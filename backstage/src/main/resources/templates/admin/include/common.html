<!DOCTYPE html>
<html lang="zh" xmlns:th="http://www.thymeleaf.org">
<!-- header section start-->
<div th:fragment="headermenu" class="header-section">
	<script>
		document.addEventListener("DOMContentLoaded", function () {
		    const currentPath = window.location.pathname.replace(/\/$/, ""); 
		
		    document.querySelectorAll(".nav a").forEach(link => {
		        let linkPath = link.getAttribute("href");
		        if (!linkPath || linkPath === "javascript:void(0)") return;
		        linkPath = linkPath.replace(/\/$/, "");
		
		        if (currentPath.startsWith(linkPath)) {
		            document.querySelectorAll(".nav-item").forEach(item => item.classList.remove("active", "open"));
		            let li = link.closest("li");
		            if (li) li.classList.add("active");
		            let parentNav = li.closest(".nav-item-has-subnav");
		            if (parentNav) parentNav.classList.add("active", "open");
		            let subNav = parentNav.querySelector(".nav-subnav");
		            if (subNav) subNav.style.display = "block"; 
		        }
		    });
		});
	</script>
	<aside class="lyear-layout-sidebar">
        <!-- logo -->
        <div id="logo" class="sidebar-header">
            <a href="/admin/index" style="height: 68px;line-height: 68px;font-size: 18px;">StreamVault</a>
        </div>
        <div class="lyear-layout-sidebar-scroll">

            <nav class="sidebar-main">
                <ul class="nav nav-drawer">
                    <li class="nav-item"> <a href="/admin/home"><i class="mdi mdi-view-dashboard"></i> 后台首页</a> </li>
                    <li class="nav-item nav-item-has-subnav">
                        <a href="javascript:void(0)"><i class="mdi mdi-video"></i> 媒体信息</a>
                        <ul class="nav nav-subnav">
         					<li> <a href="/admin/index"><i class="mdi mdi-home"></i> 媒体首页</a> </li>
                            <li> <a href="/admin/videoDataList"><i class="mdi mdi-movie"></i> 媒体列表</a> </li>
                            <li> <a href="/admin/graphicContentList"><i class="mdi mdi-movie-roll"></i> 图影集萃</a> </li>
                            <li> <a href="/admin/collectDataList"><i class="mdi mdi-heart"></i> 收藏下载</a> </li>
                            <li> <a href="/admin/processHistoryList"><i class="mdi mdi-history"></i> 提交记录</a> </li>
                        </ul>
                    </li>
                    <li class="nav-item nav-item-has-subnav">
                      <a href="javascript:void(0)"><i class="mdi mdi-filmstrip"></i> 视频DIY</a>
                      <ul class="nav nav-subnav">
                          <li> <a href="/admin/videokpop"><i class="mdi mdi-video-switch"></i> 视频合并</a> </li>
                      </ul>
                  </li>
                    <li class="nav-item nav-item-has-subnav">
                        <a href="javascript:void(0)"><i class="mdi mdi-settings"></i> 系统配置</a>
                        <ul class="nav nav-subnav">
                            <li> <a href="/admin/userList"><i class="mdi mdi-account-multiple"></i> 用户管理</a> </li>
                            <li> <a href="/admin/downLoaderList"><i class="mdi mdi-download"></i> 下载配置</a> </li>
                            <li> <a href="/admin/config"><i class="mdi mdi-settings"></i> 系统配置</a> </li>
                            <li> <a href="/admin/threadPoolMonitor"><i class="mdi mdi-monitor"></i> 运行状态</a> </li>
                        </ul>
                    </li>
                    <li class="nav-item nav-item-has-subnav">
                        <a href="javascript:void(0)"><i class="mdi mdi-help-circle"></i> 常见问题</a>
                        <ul class="nav nav-subnav">
                            <li> <a href="/admin/welcome"><i class="mdi mdi-information"></i> 工具说明</a> </li>
                            <li> <a href="/admin/update"><i class="mdi mdi-update"></i> 更新记录</a> </li>
                        </ul>
                    </li>
                </ul>
            </nav>
        </div>

    </aside>
    <!--End 左侧导航-->

    <!--头部信息-->
    <header class="lyear-layout-header">

        <nav class="navbar navbar-default">
            <div class="topbar">

                <div class="topbar-left">
                    <div class="lyear-aside-toggler">
                        <span class="lyear-toggler-bar"></span>
                        <span class="lyear-toggler-bar"></span>
                        <span class="lyear-toggler-bar"></span>
                    </div>
                    <span class="navbar-page-title"> 后台首页 </span>
                </div>

                <ul class="topbar-right">

                    <li class="dropdown dropdown-profile">
                        <a href="javascript:void(0)" data-toggle="dropdown">
                            <span th:text="${session.user_login_session.username}"></span>
                            <span class="caret"></span>
                        </a>
                        <ul class="dropdown-menu dropdown-menu-right">
                            <li> <a href="/admin/userList"><i class="mdi mdi-account"></i> 用户管理</a> </li>
                            <li> <a href="/admin/loginOut"><i class="mdi mdi-logout-variant"></i> 退出登录</a> </li>
                        </ul>
                    </li>


                    <li style="padding: 0 15px;line-height: 60px;border-left: 1px solid rgba(255,255,255,.1);">
                      <small style="color: #999;">v250905</small>
                    </li>
                    
                </ul>

            </div>
        </nav>

    </header>
</div>
<!-- header section end-->
